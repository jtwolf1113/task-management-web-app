{% extends "base.html" %}{% block title %} {{ board }} {% endblock%}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename = 'boardView.css') }}" />
{% endblock %}

{% block content %}
{% for boardObject in user.boards%}
{% if boardObject.name == board %}
<div class="board-title" id="board-title-div">

<h1 align="center", 
id="board-title", 
class="title"
ondblclick="editTitleDisplay()"
name="board-title">
{{ boardObject.name }}
</h1>

<div id="change-name-div" align="center">

<input
name = "board-title"
class="form-control new-board-title"
id="board-title-input"
align="center"
type="text"
value="{{boardObject.name}}"
>

<button 
onclick="updateTitle({{ boardObject.id }})"
class="btn btn-primary"
id="board-title"
>
Change Name
</button>

<button
onclick="cancelDisplayChange()"
class="btn btn-secondary"
id="board-title"
>
Cancel Change
</button>
</div>
</div>


<div align="center">
<button 
class="btn btn-primary"
id="create-category-button"
onclick="showCategoryCreation({{ boardObject.id }})"
>
Create New Category
</button>

<button 
class="btn btn-primary"
id="createTask"
onclick="showTaskCreation({{ boardObject.id }})"
>
Create New Task
</button>

<button 
onclick="deleteBoard({{ boardObject.id }})" 
id="deleteBoard" 
class="btn btn-secondary" 
href="/boards" 
>
Delete Board
</button>
</div>

<div id="create-category-overlay" class="new-category-menu">
    <div align="center" id="new-task-buttons">
        <input 
        type="text"
        placeholder="Enter Title for New Category" 
        class="form-control new-category-menu" 
        id="categoryTitle" 
        name="category-title" />

        <button class="new-category-menu btn btn-primary" id="add-category-button" onclick="saveNewCategory({{boardObject.id}})">
            Save New Category
        </button>
        <button class="new-category-menu btn btn-secondary" id="cancel-add-category-button" onclick="cancelNewCategoryDisplay()">
            Discard New Category
        </button>
    </div>
</div>



<div id="create-task-overlay" class="new-task-menu">
    <div align="center" id="new-task-buttons">
        <input 
        type="text"
        placeholder="Enter Title for New Task" 
        class="form-control new-task-menu" 
        id="taskTitle" 
        name="task-title" />
        <button class="new-task-menu btn btn-primary" id="add-task-button" onclick="saveNewTask({{boardObject.id}})">
            Save New Task
        </button>
        <button class="new-task-menu btn btn-secondary" id="cancel-add-task-button" onclick="cancelNewTaskDisplay()">
            Discard New Task
        </button>
    </div>
</div>



<div 
class="board_content"
id="envelop_content" >

{% for cat in boardObject.categories %}

<div class="category_container" name="{{ cat.name }}">
    <h3 class="category_name">{{ cat.name }}</h3>
    <ul class="task_list">
    {% for task in cat.tasks%}
    <li class="task_item">
        <a class="edit_task_link" href="/boards/{{boardObject.name}}/{{task.name}}">
            <span class="task_text">{{task.name}}</span>
        </a>
    </li>
    {% endfor %}
    </ul>
</div>
    
{% endfor %}

</div> <!-- End board content-->




{% endif %}

{% endfor %}

{% endblock %}